# 230330 - 자율주행 자이카

- 자율주행 기술 소개
- 실습장비 자이카소개
- 실습장비 기동하기
- 원격접속환경 구축
- 자이카 주행시키기
- 자이카 SW 플랫폼
- 자이카 모터제어장치
- 자이카 하드웨어
- 자이카 자율주행 기능 소개

---
# 자율주행 기능소개

- 다양한 미션 : 직선, 곡선, 정지선, 돌발 장애물, U턴, 로터리 진입진출, 신호등 신호 구분, 언덕, 요철구간, 주차

## 차선인식

- 차선인식 : 카메라 영상 기반 차선인식, OpenCV 기반 영상처리를 통해 전체 이미지에서 차선의 위치를 파악
    - RGB→ Grayscale → binalization → 차선찾기
    - Hough Transform
    - Enet : Real-time semantic segmentation , 딥러닝에서 영상 차선 추출

### 직진, 회전 차선 구분하기

- 카메라 각도에 따라서 셋팅해야함

### 정지선 인식

- 화면 하단에 ROI 영역 설정
    - 하얀색 픽셀이 많으면 정지선으로 인식 , 또는 수평선이면 정지선으로 인식

### 횡단보도 인식

- OpenCV 함수 사용 : 도형 개수를 카운트하는 함수
- 횡단보도 :여러개의 블록으로 카운팅
- 정지선 : 한개의 블록으로 카운팅

### 신호등 인식

- 화면 상단에 ROI 영역설정
- 연속된 동그라미 찾기
- 또는 Yolo object detection 인식
- 신호등 상태 정보
    - 색상보다는 명도(밝기)를 통해 신호등 상태 정보 획득 → 색상으로 판단하는 것은 위험하다

### 언덕구간

- 차선 왜곡 → 볼록한 항아리 모양으로
- 한쪽 차선만 보고 가면 : 곡선 차선으로 오해하고 핸들 꺾을 수도 , 양쪽 차선을 모두 바야
- IMU 센서로 언덕주행 인식 → 천천히, 양쪽 차선을 모두 보고

### 장애물

- 돌발 장애물
    - 라이다를 이용하여 전방 장애물 감지
    - 0 ~ 360도 , 1도 단위로 거리센싱
    - (x,y) 좌표로 변환하여 장애물 위치 판단
        - 진행방향에 장애물이 있으면 정지


### 로터리 진입

- 장애물 존재 여부 확인
    - 좌측에서 자가오는 차량확인
        - 가까이에 없으면 출발
        - 가까우면 지나갈 떄까지 기다림
    - 우축으로 멀어지는 차량확인
        - 가까우면 멀어질 때까지 기다림
    - 가까이에 없으면 출발


### 차선 변경

- 자동차가 없는 차선으로 진행
    - 장애물 감지하여 확인
    - 3개 차선 중 장애물이 없는 차선 선택하여 주행
        - 직진, 왼쪽 또는 오른쪽 차선으로 따라서 주행

### 표지판 인식

- QR , 머신러닝

### 최단시간 완주하면 우승!!
    

## 자이카 자율주행 프로젝트 소개

- 규칙기반+학습 기반


### 머신러닝을 이용할 수 있는 방향

- 전방사황을 보고 현재 어떤 미션을 수행해야하는지 파악
        

### 강화학습 기반 자율주행

- 시뮬레이터에서 벽과 충돌하지 않고 빠르게 주행하도록 만들기
    - 많은 회수의 반복주행 + 적절한 보상값 부여

### End-to-End

- 주행영상 + 조향각 데이터를 학습하여 자율주행 가능하도록


### Adaptive Cruise Control

- 추돌방지 자율주행 (라이다를 이용해 앞차간의 거리)

### PID 제어

- 차량이 흔들거리면서 주행하지 않도록 제어
        

### AR Tag 기반의 주차

- AR tag를 보고 주차


### Yolo로 자율주행


### 직각주차 , 평행주차


### 라이다 기반 복도 주행

- 최대한 빠르게 주행
    - DWA,,,,,,, A* ,,, MIT 대학 등에서 대회 이루어지고 있음

### 앞차 따라가기 주행

- 앞에서 달리는 차량이 지나간 경로를 따라서 주행 (군집 주행)
- 머신러닝 Object 인식 → 앞차의 이동궤적 파악

### 비보호 좌회전

- 규칙기반 학습 기반

### 고속 코너링 - 드리프트 주행

- 스탠포드 MARTY project
- MIT 대하의 머신러닝 기반 드리프트 주행
    
